# Winwing MCDU

A lua script for the Winwing MCDU for the LR A333. 

Status: Reverse engineering in progress.

## Installation and use of dev scrips

1. Clone repo
2. Install python and hid
3. Resolve potential dependencies
4. Run "python {script}.py"  

Use on your own risk. 

# Findings

## USB ids
* vendor id 0x4098
* product id when set to MCDU-32-CO-PILOT 0xbb3e
* product id when set to MCDU-32-OBSERVER 0xbb3a
* product id when set to MCDU-32-CAPTAIN 0xbb36
* Can be set in SimAppPro

## Set button backlight brightness
* device.write([0x2, 0x32, 0xbb, 0x0, 0x0, 0x3, 0x49, 0x0, 0xcc, 0x0, 0x0, 0x0, 0x0, 0x0])
* 0xcc is the brightness, valid value 0…255
* Tested successfully

## Set display brightness
* device.write([0x02, 0x32, 0xbb, 0x00, 0x00, 0x03, 0x49, 0x01, 0xff, 0x00, 0x00, 0x00, 0x00, 0x00])
* 0xff is brightness value, 0...255
* Tested successfully

## Set default screens
* device.write([f0, 0x00, 0x16, 0x12, 0x32, 0xbb, 0x00, 0x00, 0x04, 0x01, 0x00, 0x00, 0x65, 0x30, 0x22, 0x00, 0x00, 0x01, 0x00, 0x00, 0x00, 0xxx, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00])
* Screen type is encoded in byte 0xxx
* Tested successfully with xx = 0x10…0x14
* Probably linked to the LCD test screens available in SimAppPro
* If executed after setting text, the text will be overwritten
* If executed before setting text, a small frame along the four edges of the display shows the background color

## Buttons

 ### Byte 7
* 0x10: A
* 0x20: B
* 0x40: C
* 0x80: D

### Byte 8

* 0x01: E
* 0x02: F
* 0x04: G
* 0x08: H
* 0x:10 I
* 0x20: J

